{"ast":null,"code":"var _jsxFileName = \"/Users/williamlin/Documents/FlatIronSchool/mod6/hackathons/Beach_Poll/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Nav from \"./components/Nav\";\nimport Home from \"./components/Home\";\nimport LoginSignup from './components/LoginSignup';\nconst userURL = \"http://localhost:3000/api/v1/users\";\nconst beachURL = \"http://localhost:3000/api/v1/beachslots\";\nconst reviewURL = \"http://localhost:3000/api/v1/beachreviews\";\nconst ratings = [0, 1, 2, 3, 4, 5];\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: {},\n      beaches: [],\n      reviews: [],\n      currentUserReviews: [],\n      currentBeachReviews: [],\n      view: \"about\",\n      comment: \"\",\n      newPicture: \"\",\n      airpollution: null,\n      waterpollution: null,\n      plasticpollution: null,\n      foottraffick: null,\n      noisepollution: null,\n      lightpollution: null,\n      showForm: true,\n      beachForm: false,\n      users: []\n    };\n\n    this.commentText = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        comment: event.target.value\n      });\n    };\n\n    this.imageURLFunction = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        newPicture: event.target.value\n      });\n    };\n\n    this.onPost = event => {\n      event.preventDefault();\n      console.log(this.props);\n      return this.props.user && this.props.beach ? fetch(reviewURL, {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          \"accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: this.props.user.id,\n          beachslot_id: this.props.beach.id,\n          airpollution: this.state.airpollution,\n          waterpollution: this.state.waterpollution,\n          plasticpollution: this.state.plasticpollution,\n          noisepollution: this.state.noisepollution,\n          lightpollution: this.state.lightpollution,\n          foottraffick: this.state.foottraffick,\n          comment: this.state.comment,\n          picture: this.state.newPicture,\n          upvote: 0\n        })\n      }).then(r => r.json()).then(data => this.setState({ ...this.state,\n        reviews: [...this.state.reviews, data]\n      })) : null;\n    };\n\n    this.airPollutionSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        airpollution: event.target.value\n      });\n    };\n\n    this.waterPollutionSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        waterpollution: event.target.value\n      });\n    };\n\n    this.lightPollutionSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        lightpollution: event.target.value\n      });\n    };\n\n    this.noisePollutionSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        noisepollution: event.target.value\n      });\n    };\n\n    this.footTrafficSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        footTraffic: event.target.value\n      });\n    };\n\n    this.plasticPollutionSelect = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        plasticPollution: event.target.value\n      });\n    };\n\n    this.changeAbout = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        view: \"about\"\n      });\n    };\n\n    this.changeBeach = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        view: \"beaches\"\n      });\n    };\n\n    this.changeProfile = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        view: \"profile\"\n      });\n    };\n\n    this.changeContact = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        view: \"contact\"\n      });\n    };\n\n    this.pseudoLogout = event => {\n      event.preventDefault();\n      this.setState({ ...this.state,\n        currentUser: {}\n      });\n    };\n\n    this.beachFormButton = () => {\n      return this.state.beachForm === false ? /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }\n      }, \"Create Beach\") : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, \"New Beach\"), /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    this.beachFormToggle = event => {\n      event.preventDefault();\n      this.state.beachForm === false ? this.setState({\n        beachForm: true\n      }) : this.setState({\n        beachForm: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(userURL).then(r => r.json()).then(data => this.setState({ ...this.state,\n      users: data.user,\n      currentUser: data[0].user,\n      currentUserReviews: data[0].reviews\n    }));\n    fetch(beachURL).then(r => r.json()).then(dataset => dataset.map(data => this.setState({ ...this.state,\n      beaches: [...this.state.beaches, data.beach],\n      currentBeachReviews: [...this.state.reviews, data.reviews]\n    })));\n    fetch(reviewURL).then(r => r.json()).then(dataset => this.setState({ ...this.state,\n      reviews: dataset\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      user: this.state.currentUser,\n      view: this.state.view,\n      changeAbout: this.changeAbout,\n      changeBeach: this.changeBeach,\n      changeProfile: this.changeProfile,\n      changeContact: this.changeContact,\n      pseudoLogout: this.pseudoLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }), this.state.currentUser === {} ? /*#__PURE__*/React.createElement(LoginSignup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(Home, {\n      allUsers: this.state.users,\n      user: this.state.currentUser,\n      view: this.state.view,\n      beaches: this.state.beaches,\n      reviews: this.state.reviews,\n      currentUserReviews: this.state.currentUserReviews,\n      currentBeachReviews: this.state.currentBeachReviews,\n      changeAbout: this.changeAbout,\n      changeBeach: this.changeBeach,\n      changeProfile: this.changeProfile,\n      changeContact: this.changeContact,\n      commentText: this.commentText,\n      onPost: this.onPost,\n      airpollutionSelect: this.airPollutionSelect,\n      waterPollutionSelect: this.waterPollutionSelect,\n      plasticPollutionSelect: this.plasticPollutionSelect,\n      noisePollutionSelect: this.noisePollutionSelect,\n      lightPollutionSelect: this.lightPollutionSelect,\n      airpollution: this.state.airpollution,\n      waterpollution: this.state.waterpollution,\n      lightpollution: this.state.lightpollution,\n      noisepollution: this.state.noisepollution,\n      plasticpollution: this.state.plasticpollution,\n      foottraffick: this.state.foottraffick,\n      ratings: ratings,\n      imageURLFunction: this.imageURLFunction,\n      newPicture: this.state.newPicture,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/williamlin/Documents/FlatIronSchool/mod6/hackathons/Beach_Poll/src/App.js"],"names":["React","Nav","Home","LoginSignup","userURL","beachURL","reviewURL","ratings","App","Component","state","currentUser","beaches","reviews","currentUserReviews","currentBeachReviews","view","comment","newPicture","airpollution","waterpollution","plasticpollution","foottraffick","noisepollution","lightpollution","showForm","beachForm","users","commentText","event","preventDefault","setState","target","value","imageURLFunction","onPost","console","log","props","user","beach","fetch","method","headers","body","JSON","stringify","user_id","id","beachslot_id","picture","upvote","then","r","json","data","airPollutionSelect","waterPollutionSelect","lightPollutionSelect","noisePollutionSelect","footTrafficSelect","footTraffic","plasticPollutionSelect","plasticPollution","changeAbout","changeBeach","changeProfile","changeContact","pseudoLogout","beachFormButton","beachFormToggle","componentDidMount","dataset","map","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Nav from \"./components/Nav\"\nimport Home from \"./components/Home\"\nimport LoginSignup from './components/LoginSignup'\n\n\nconst userURL=\"http://localhost:3000/api/v1/users\"\nconst beachURL=\"http://localhost:3000/api/v1/beachslots\"\nconst reviewURL=\"http://localhost:3000/api/v1/beachreviews\"\nconst ratings=[0,1,2,3,4,5]\n\nclass App extends React.Component {\n  state={\n    currentUser:{},\n    beaches:[],\n    reviews:[],\n    currentUserReviews:[],\n    currentBeachReviews:[],\n    view: \"about\",\n    comment: \"\",\n    newPicture: \"\",\n    airpollution: null,\n    waterpollution: null,\n    plasticpollution: null,\n    foottraffick:null,\n    noisepollution: null,\n    lightpollution:null,\n    showForm:true,\n    beachForm: false,\n    users:[]\n  }\n\ncommentText=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, comment: event.target.value})\n}\n\nimageURLFunction=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, newPicture: event.target.value})\n}\n\n\nonPost=(event)=>{\n    event.preventDefault()\n    console.log(this.props)\n    return(this.props.user && this.props.beach?\n    fetch(reviewURL,{\n        method: \"POST\",\n        headers:{\"content-type\":\"application/json\", \"accept\":\"application/json\"},\n        body:JSON.stringify({user_id: this.props.user.id, \n          beachslot_id: this.props.beach.id, \n          airpollution: this.state.airpollution, \n          waterpollution: this.state.waterpollution, \n          plasticpollution: this.state.plasticpollution, \n          noisepollution: this.state.noisepollution, \n          lightpollution: this.state.lightpollution,\n          foottraffick: this.state.foottraffick,\n          comment: this.state.comment, \n          picture: this.state.newPicture,\n          upvote: 0\n          })\n    })\n    .then(r=>r.json())\n    .then(data=>this.setState({...this.state, reviews: [...this.state.reviews, data]})): null)\n  }\n\n  airPollutionSelect=(event)=>{\n      event.preventDefault()\n      this.setState({...this.state, airpollution: event.target.value})\n  }\n  waterPollutionSelect=(event)=>{\n      event.preventDefault()\n      this.setState({...this.state, waterpollution: event.target.value})\n  }\n  lightPollutionSelect=(event)=>{\n      event.preventDefault()\n      this.setState({...this.state, lightpollution: event.target.value})\n  }\n  noisePollutionSelect=(event)=>{\n      event.preventDefault()\n      this.setState({...this.state, noisepollution: event.target.value})\n  }\n  footTrafficSelect=(event)=>{\n      event.preventDefault()\n      this.setState({...this.state, footTraffic: event.target.value})\n  }\n  plasticPollutionSelect=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, plasticPollution: event.target.value})\n}\n\n\n\n  componentDidMount(){\n    fetch(userURL)\n    .then(r=>r.json())\n    .then(data=>this.setState({...this.state, users: data.user, currentUser: data[0].user, currentUserReviews:data[0].reviews}))\n    fetch(beachURL)\n    .then(r=>r.json())\n    .then(dataset=>dataset.map(data=>this.setState({...this.state, beaches:[...this.state.beaches, data.beach], currentBeachReviews:[...this.state.reviews, data.reviews]})))\n    fetch(reviewURL)\n    .then(r=>r.json())\n    .then(dataset=>this.setState({...this.state, reviews:dataset}))\n  }\n\n  changeAbout=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, view: \"about\"})\n  }\n\n  changeBeach=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, view: \"beaches\"})\n  }\n\n  changeProfile=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, view: \"profile\"})\n  }\n\n  changeContact=(event)=>{\n    event.preventDefault()\n    this.setState({...this.state, view: \"contact\"})\n  }\n\n  pseudoLogout=(event)=>{event.preventDefault()\n  this.setState({\n    ...this.state, currentUser: {}\n  })}\n\n  beachFormButton=()=>{\n    return(this.state.beachForm === false ? \n        <button>Create Beach</button>:\n        <div>\n        <h4>New Beach</h4>\n        <form></form>\n        </div>)\n  }\n\n\n  beachFormToggle=(event)=>{event.preventDefault()\n    this.state.beachForm === false? \n    this.setState({beachForm: true}):\n    this.setState({beachForm: false})}\n\n  render(){\n    return (\n      <div className=\"App\">\n        <Nav \n        user={this.state.currentUser}\n        view={this.state.view}\n        changeAbout={this.changeAbout}\n        changeBeach={this.changeBeach}\n        changeProfile={this.changeProfile}\n        changeContact={this.changeContact}\n        pseudoLogout={this.pseudoLogout}/> \n        {this.state.currentUser==={}? <LoginSignup />:\n        <Home \n        allUsers={this.state.users}\n        user={this.state.currentUser} \n        view={this.state.view}\n        beaches={this.state.beaches}\n        reviews={this.state.reviews}\n        currentUserReviews={this.state.currentUserReviews}\n        currentBeachReviews={this.state.currentBeachReviews}\n        changeAbout={this.changeAbout}\n        changeBeach={this.changeBeach}\n        changeProfile={this.changeProfile}\n        changeContact={this.changeContact}\n        commentText={this.commentText}\n        onPost={this.onPost}\n        airpollutionSelect={this.airPollutionSelect}\n        waterPollutionSelect={this.waterPollutionSelect}\n        plasticPollutionSelect={this.plasticPollutionSelect}\n        noisePollutionSelect={this.noisePollutionSelect}\n        lightPollutionSelect={this.lightPollutionSelect}\n        airpollution={this.state.airpollution}\n        waterpollution={this.state.waterpollution}\n        lightpollution={this.state.lightpollution}\n        noisepollution={this.state.noisepollution}\n        plasticpollution={this.state.plasticpollution}\n        foottraffick={this.state.foottraffick}\n        ratings={ratings}\n        imageURLFunction={this.imageURLFunction}\n        newPicture={this.state.newPicture}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}